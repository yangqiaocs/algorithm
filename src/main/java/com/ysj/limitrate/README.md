限流算法主要分为三个部分
- 产生资源/释放资源 produce
- 请求发送 requestGen
- 请求处理 consume

计数器限流
单位时间T内允许N个请求通过，剩余的请求驳回
问题：后面的K-N都会被直接丢弃

滑动窗口限流
将计数器的时间单元T划分至更小的粒度
问题：瞬时的流量太大了，一个时间段内的

阻塞队列存放待处理的请求，阻塞队列满了再来请求就丢弃

漏桶限流
当设置1s产生100个请求，固定100ms处理一个个请求，那么，当阻塞队列满了之后每秒会有90个请求会被直接拒绝
问题在于，会有很多没有来得及处理的请求被丢弃

令牌桶限流
其考虑的是流量的洪峰和低谷，低谷时在桶中存储令牌，洪峰时可以利用这个存储的令牌
问题：低谷的存储量不够洪峰的使用，洪峰的瞬时流量太大还是会冲垮系统

