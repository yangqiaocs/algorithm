限流算法主要分为两个部分
- 产生资源/释放资源 produce
- 请求发送 requestGen
- 请求处理 consume

计数器限流
单位时间T内允许N个请求通过，剩余的请求驳回

漏桶限流
需要阻塞队列存放待处理的请求，阻塞队列满了再来请求就驳回
当设置1s产生10个请求，每秒处理3个请求，那么，当队列满了之后每秒会有7个请求会被直接拒绝